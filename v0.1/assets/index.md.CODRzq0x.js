import{_ as s,c as a,o as e,aA as t}from"./chunks/framework.CVKwet56.js";const d=JSON.parse('{"title":"ErrorMetrics.jl","description":"","frontmatter":{},"headers":[],"relativePath":"index.md","filePath":"index.md","lastUpdated":null}'),n={name:"index.md"};function l(r,i,p,h,o,k){return e(),a("div",null,[...i[0]||(i[0]=[t(`<h1 id="ErrorMetrics.jl" tabindex="-1">ErrorMetrics.jl <a class="header-anchor" href="#ErrorMetrics.jl" aria-label="Permalink to &quot;ErrorMetrics.jl {#ErrorMetrics.jl}&quot;">​</a></h1><p>A Julia package providing error / performance metrics for comparing model outputs with observations.</p><h2 id="Quick-start" tabindex="-1">Quick start <a class="header-anchor" href="#Quick-start" aria-label="Permalink to &quot;Quick start {#Quick-start}&quot;">​</a></h2><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ErrorMetrics</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Random</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">y  </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> randn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)             </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># observations</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ŷ  </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> y </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.1randn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)     </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># model output</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mse  </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> metric</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">MSE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),  ŷ, y)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">nse  </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> metric</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NSE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),  ŷ, y)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">pcor </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> metric</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Pcor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(), ŷ, y)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># with observational uncertainty</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">yσ </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> .*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ones</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">nseσ </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> metric</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NSEσ</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(), ŷ, y, yσ)</span></span></code></pre></div><p>See the <a href="./api.html">API</a> page for the full list of metrics.</p><h2 id="Available-Metrics" tabindex="-1">Available Metrics <a class="header-anchor" href="#Available-Metrics" aria-label="Permalink to &quot;Available Metrics {#Available-Metrics}&quot;">​</a></h2><h3 id="Error-based-Metrics" tabindex="-1">Error-based Metrics <a class="header-anchor" href="#Error-based-Metrics" aria-label="Permalink to &quot;Error-based Metrics {#Error-based-Metrics}&quot;">​</a></h3><ul><li><p><code>MSE</code>: Mean squared error - Measures the average squared difference between predicted and observed values</p></li><li><p><code>NAME1R</code>: Normalized Absolute Mean Error with 1/R scaling - Measures the absolute difference between means normalized by the range of observations</p></li><li><p><code>NMAE1R</code>: Normalized Mean Absolute Error with 1/R scaling - Measures the average absolute error normalized by the range of observations</p></li></ul><h3 id="Nash-Sutcliffe-Efficiency-Metrics" tabindex="-1">Nash-Sutcliffe Efficiency Metrics <a class="header-anchor" href="#Nash-Sutcliffe-Efficiency-Metrics" aria-label="Permalink to &quot;Nash-Sutcliffe Efficiency Metrics {#Nash-Sutcliffe-Efficiency-Metrics}&quot;">​</a></h3><ul><li><p><code>NSE</code>: Nash-Sutcliffe Efficiency - Measures model performance relative to the mean of observations</p></li><li><p><code>NSEInv</code>: Inverse Nash-Sutcliffe Efficiency - Inverse of NSE for minimization problems</p></li><li><p><code>NSEσ</code>: Nash-Sutcliffe Efficiency with uncertainty - Incorporates observation uncertainty in the performance measure</p></li><li><p><code>NSEσInv</code>: Inverse Nash-Sutcliffe Efficiency with uncertainty - Inverse of NSEσ for minimization problems</p></li><li><p><code>NNSE</code>: Normalized Nash-Sutcliffe Efficiency - Measures model performance relative to the mean of observations, normalized to [0,1] range</p></li><li><p><code>NNSEInv</code>: Inverse Normalized Nash-Sutcliffe Efficiency - Inverse of NNSE for minimization problems, normalized to [0,1] range</p></li><li><p><code>NNSEσ</code>: Normalized Nash-Sutcliffe Efficiency with uncertainty - Incorporates observation uncertainty in the normalized performance measure</p></li><li><p><code>NNSEσInv</code>: Inverse Normalized Nash-Sutcliffe Efficiency with uncertainty - Inverse of NNSEσ for minimization problems</p></li></ul><h3 id="Correlation-based-Metrics" tabindex="-1">Correlation-based Metrics <a class="header-anchor" href="#Correlation-based-Metrics" aria-label="Permalink to &quot;Correlation-based Metrics {#Correlation-based-Metrics}&quot;">​</a></h3><ul><li><p><code>Pcor</code>: Pearson Correlation - Measures linear correlation between predictions and observations</p></li><li><p><code>PcorInv</code>: Inverse Pearson Correlation - Inverse of Pcor for minimization problems</p></li><li><p><code>Pcor2</code>: Squared Pearson Correlation - Measures the strength of linear relationship between predictions and observations</p></li><li><p><code>Pcor2Inv</code>: Inverse Squared Pearson Correlation - Inverse of Pcor2 for minimization problems</p></li><li><p><code>NPcor</code>: Normalized Pearson Correlation - Measures linear correlation between predictions and observations, normalized to [0,1] range</p></li><li><p><code>NPcorInv</code>: Inverse Normalized Pearson Correlation - Inverse of NPcor for minimization problems</p></li></ul><h3 id="Rank-Correlation-Metrics" tabindex="-1">Rank Correlation Metrics <a class="header-anchor" href="#Rank-Correlation-Metrics" aria-label="Permalink to &quot;Rank Correlation Metrics {#Rank-Correlation-Metrics}&quot;">​</a></h3><ul><li><p><code>Scor</code>: Spearman Correlation - Measures monotonic relationship between predictions and observations</p></li><li><p><code>ScorInv</code>: Inverse Spearman Correlation - Inverse of Scor for minimization problems</p></li><li><p><code>Scor2</code>: Squared Spearman Correlation - Measures the strength of monotonic relationship between predictions and observations</p></li><li><p><code>Scor2Inv</code>: Inverse Squared Spearman Correlation - Inverse of Scor2 for minimization problems</p></li><li><p><code>NScor</code>: Normalized Spearman Correlation - Measures monotonic relationship between predictions and observations, normalized to [0,1] range</p></li><li><p><code>NScorInv</code>: Inverse Normalized Spearman Correlation - Inverse of NScor for minimization problems</p></li></ul><h2 id="Adding-a-New-Metric" tabindex="-1">Adding a New Metric <a class="header-anchor" href="#Adding-a-New-Metric" aria-label="Permalink to &quot;Adding a New Metric {#Adding-a-New-Metric}&quot;">​</a></h2><h3 id="1.-Define-the-Metric-Type" tabindex="-1">1. Define the Metric Type <a class="header-anchor" href="#1.-Define-the-Metric-Type" aria-label="Permalink to &quot;1. Define the Metric Type {#1.-Define-the-Metric-Type}&quot;">​</a></h3><p>Create a new metric type in the ErrorMetrics.jl source:</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> NewMetric</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> NewMetric </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ErrorMetric</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> end</span></span></code></pre></div><p>Requirements:</p><ul><li><p>Use PascalCase for the type name</p></li><li><p>Make it a subtype of <code>ErrorMetric</code></p></li><li><p>Export the type</p></li><li><p>Add a purpose function describing the metric&#39;s role</p></li></ul><h3 id="2.-Implement-the-Metric-Function" tabindex="-1">2. Implement the Metric Function <a class="header-anchor" href="#2.-Implement-the-Metric-Function" aria-label="Permalink to &quot;2. Implement the Metric Function {#2.-Implement-the-Metric-Function}&quot;">​</a></h3><p>Implement the metric calculation:</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> metric</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NewMetric</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, ŷ</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractArray</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractArray</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, yσ</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractArray</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # Your metric calculation here</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> metric_value</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span></code></pre></div><p>Requirements:</p><ul><li><p>Function must be named <code>metric</code></p></li><li><p>Canonical ErrorMetrics API is <code>metric(m, ŷ, y[, yσ])</code></p><ul><li><p><code>m</code>: metric type instance (e.g. <code>NewMetric()</code>)</p></li><li><p><code>ŷ</code>: model simulation / estimate</p></li><li><p><code>y</code>: observations</p></li><li><p><code>yσ</code> (optional): observational uncertainty; if omitted ErrorMetrics uses a ones-like default (no allocation)</p></li></ul></li><li><p>For a new metric type, implement the <strong>4-argument method</strong>:</p><ul><li><p><code>metric(::NewMetric, ŷ, y, yσ)</code></p></li><li><p>You do <strong>not</strong> need to implement the 3-argument method; it is already provided and forwards to your 4-arg method.</p></li></ul></li><li><p>Must return a scalar value</p></li></ul><h3 id="3.-Define-Purpose" tabindex="-1">3. Define Purpose <a class="header-anchor" href="#3.-Define-Purpose" aria-label="Permalink to &quot;3. Define Purpose {#3.-Define-Purpose}&quot;">​</a></h3><p>Add a purpose function for your metric type:</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> OmniTools</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> purpose</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">purpose</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Type{NewMetric}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Description of what NewMetric does&quot;</span></span></code></pre></div><h3 id="4.-Testing" tabindex="-1">4. Testing <a class="header-anchor" href="#4.-Testing" aria-label="Permalink to &quot;4. Testing {#4.-Testing}&quot;">​</a></h3><p>Test your new metric by:</p><ul><li><p>Running it on sample data</p></li><li><p>Comparing results with existing metrics</p></li><li><p>Verifying it works correctly with different data types and sizes</p></li><li><p>Testing edge cases (e.g., NaN values)</p></li></ul><h2 id="Examples" tabindex="-1">Examples <a class="header-anchor" href="#Examples" aria-label="Permalink to &quot;Examples {#Examples}&quot;">​</a></h2><h3 id="Calculating-Metrics" tabindex="-1">Calculating Metrics <a class="header-anchor" href="#Calculating-Metrics" aria-label="Permalink to &quot;Calculating Metrics {#Calculating-Metrics}&quot;">​</a></h3><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ErrorMetrics</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Define observations and model output</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">y </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># observations</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">yσ </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># uncertainties</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ŷ </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2.1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3.1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># model output</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Calculate MSE</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mse </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> metric</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">MSE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(), ŷ, y, yσ)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Calculate correlation</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">correlation </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> metric</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Pcor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(), ŷ, y, yσ)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Calculate NSE with uncertainty</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">nse_uncertain </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> metric</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NSEσ</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(), ŷ, y, yσ)</span></span></code></pre></div><h3 id="Using-Multiple-Metrics" tabindex="-1">Using Multiple Metrics <a class="header-anchor" href="#Using-Multiple-Metrics" aria-label="Permalink to &quot;Using Multiple Metrics {#Using-Multiple-Metrics}&quot;">​</a></h3><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ErrorMetrics</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Calculate multiple metrics for comparison</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">metrics </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Dict</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    :mse</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> metric</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">MSE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(), ŷ, y, yσ),</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    :nse</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> metric</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NSE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(), ŷ, y, yσ),</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    :pcor</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> metric</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Pcor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(), ŷ, y, yσ),</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    :scor</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> metric</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Scor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(), ŷ, y, yσ)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h2 id="Best-Practices" tabindex="-1">Best Practices <a class="header-anchor" href="#Best-Practices" aria-label="Permalink to &quot;Best Practices {#Best-Practices}&quot;">​</a></h2><ol><li><strong>Documentation</strong></li></ol><ul><li><p>Add clear documentation for your new metric</p></li><li><p>Include mathematical formulas if applicable</p></li><li><p>Provide usage examples</p></li></ul><ol start="2"><li><strong>Testing</strong></li></ol><ul><li><p>Test with various data types and sizes</p></li><li><p>Verify edge cases (e.g., NaN values)</p></li><li><p>Compare with existing metrics</p></li></ul><ol start="3"><li><strong>Performance</strong></li></ol><ul><li><p>Optimize for large datasets</p></li><li><p>Consider memory usage</p></li><li><p>Handle missing values appropriately</p></li></ul><ol start="4"><li><strong>Compatibility</strong></li></ol><ul><li><p>Ensure compatibility with existing workflows</p></li><li><p>Follow the established interface</p></li><li><p>Maintain consistent error handling</p></li></ul><h2 id="Defining-Purpose-for-Metric-Types" tabindex="-1">Defining Purpose for Metric Types <a class="header-anchor" href="#Defining-Purpose-for-Metric-Types" aria-label="Permalink to &quot;Defining Purpose for Metric Types {#Defining-Purpose-for-Metric-Types}&quot;">​</a></h2><p>Each metric type in ErrorMetrics.jl should have a <code>purpose</code> function that describes its role. This helps with documentation and provides clear information about what each metric does.</p><h3 id="How-to-Define-Purpose" tabindex="-1">How to Define Purpose <a class="header-anchor" href="#How-to-Define-Purpose" aria-label="Permalink to &quot;How to Define Purpose {#How-to-Define-Purpose}&quot;">​</a></h3><ol><li>Make sure that the base <code>purpose</code> function from OmniTools is already imported:</li></ol><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> OmniTools</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> purpose</span></span></code></pre></div><ol><li>Then, <code>purpose</code> can be easily extended for your metric type:</li></ol><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># For a concrete metric type</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">purpose</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Type{MyMetric}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Description of what MyMetric does&quot;</span></span></code></pre></div><h3 id="Best-Practices-2" tabindex="-1">Best Practices <a class="header-anchor" href="#Best-Practices-2" aria-label="Permalink to &quot;Best Practices {#Best-Practices-2}&quot;">​</a></h3><ul><li><p>Keep descriptions concise but informative</p></li><li><p>Focus on what the metric measures and how it&#39;s calculated</p></li><li><p>Include any normalization or scaling factors in the description</p></li><li><p>For abstract types, clearly indicate their role in the type hierarchy</p></li></ul>`,54)])])}const E=s(n,[["render",l]]);export{d as __pageData,E as default};
